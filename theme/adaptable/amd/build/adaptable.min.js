define(["jquery","core/log"],function(a,b){"use strict";return b.debug("Adaptable AMD"),{init:function(){a(document).ready(function(a){b.debug("Adaptable AMD init"),a(".close").click(function(){var b=a(this).data("alertindex"),c=a(this).data("alertkey");"undismissable"!=c&&"undefined"!=c&&c&&M.util.set_user_preference("theme_adaptable_alertkey"+b,c)}),a(".breadcrumb li:not(:last-child) span").not(".separator").addClass(""),a(".breadcrumb li:last-child").addClass("lastli");try{a('.context-header-settings-menu .dropdown-menu .dropdown-item a[href*="edit"], #edittingbutton a').click(function(b){b.preventDefault();var c=a(window).scrollTop();sessionStorage.setItem("scrollTo",c);var d=a(this).prop("href");return window.location.replace(d),!1});var c=sessionStorage.getItem("scrollTo");null!=c&&(window.scrollTo(0,c),sessionStorage.removeItem("scrollTo"))}catch(d){b.debug("Adaptable: Session storage exception: "+d.name)}var e,f=50,g=500;e=!(a(window).scrollTop()>f);var h=function(){a(window).scrollTop()>f?0==e&&(e=!0,a("#back-to-top").fadeIn(g)):1==e&&(e=!1,a("#back-to-top").fadeOut(g))};if(h(),a(window).scroll(function(){h()}),a("#back-to-top").click(function(b){return b.preventDefault(),a("html, body").animate({scrollTop:0},g),!1}),window.location.hash&&a("body").hasClass("pagelayout-course")){var i=a(window.location.hash).offset().top;a("html, body").animate({scrollTop:i-102},g)}})}}});